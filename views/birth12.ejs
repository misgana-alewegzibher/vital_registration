<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,
				initial-scale=1.0" />
  <title>Admin Dashboard</title>

  <link rel="stylesheet" href="../assets/css/admin_style.css" />
  <link rel="stylesheet" href="../assets/css/admin_responsive.css" />
  <link rel="stylesheet" href="../assets/css/bstyle.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>

<body>
  <section class="dashboardscss">
    <!-- for header part -->
    <header>
      <div class="logosec">
        <div class="logo">Vital Registration System</div>
        <img src="../assets/admin_asset/headerbtn.png" class="icn menuicn m-1" id="menuicn" alt="menu-icon" />
      </div>

    </header>

    <div class="main-container" id="main_id">
      <div class="navcontainer">
        <nav class="nav">
          <div class="nav-upper-options">
            <div class="nav-option option1">
              <img src="../assets/admin_asset/rectangle.png" class="nav-img" alt="dashboard" />
              <h3>Dashboard</h3>

            </div>
            <a href="/login/request" style="text-decoration: none">
              <div class="nav-option option6">
                <img src="../assets/admin_asset/request-btn.png" class="nav-img" alt="Request button" />
                <h3>Request</h3>
              </div>
            </a>

            <div class="nav-option logout">
              <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183321/7.png" class="nav-img"
                alt="logout" />
                <a href="/index.html" style="text-decoration: none;">
                  <h3>Logout</h3>
                </a>
            </div>
          </div>
        </nav>
      </div>
      <div class="main">
        <div class="searchbar2">
          <input type="text" name="" id="" placeholder="Search" />
          <div class="searchbtn">
            <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210180758/Untitled-design-(28).png"
              class="icn srchicn" alt="search-button" />
          </div>
        </div>

        <div class="box-container">

          <div class="box box1">
            <div class="text">
              <h2 class="topic-heading"> <%= totalPopulation %></h2>
              <h2 class="topic">Total Population</h2>
            </div>

            <img src="../assets/admin_asset/people-together.png" alt="Views">
          </div>

          <div class="box box2">
            <div class="text">
              <h2 class="topic-heading"><%=totalFemale%></h2>
              <h2 class="topic">Female</h2>
            </div>

            <img src="../assets/admin_asset/women.png" alt="likes">
          </div>

          <div class="box box3">
            <div class="text">
              <h2 class="topic-heading"><%=totalMale%></h2>
              <h2 class="topic">Male</h2>
            </div>

            <img src="../assets/admin_asset/community.png" alt="comments">
          </div>
          <!-- 
            <div class="box box4">
                <div class="text">
                    <h2 class="topic-heading">70</h2>
                    <h2 class="topic">Requested</h2>
                </div>

                <img src="../assets/admin_asset/request-btn.png" alt="published">
            </div> -->
        </div>
      

        <div class="report-container">
          <div class="report-header">
            <h1 class="recent-Articles">General Population Data Analaysis</h1>
            <button class="view">View All</button>
          </div>
          <div class="chart">

            <!-- Totalmale :  totalMale; -->
            <canvas id="totalGender" class="chart totalGender">
              

            </canvas>
            <canvas id="totalWeekly" class="chart totalGender"></canvas>
          </div>
        </div>
      </div>
      <div class="birth" id="birhId" style="display: none">
        <h1>This is birth page</h1>
      </div>
    </div>
    


    <script>
      
      var myVar = <%-totalPopulation%>;
      var totalMale = <%-totalMale%>;
      var totalFemale = <%-totalFemale%>;
      totalGender(totalMale, totalFemale);
      function totalGender(maleSize, femaleSize){
        var xValues = ["Male", "Female"];
        var yValues = [parseInt(maleSize), parseInt(femaleSize)];
        var barColors = ["orange","brown"];
        new Chart("totalGender", {
          type: "pie",
          data: {
            labels: xValues,
            datasets: [{
              backgroundColor: barColors,
              data: yValues
            }]
          },
          options: {}
        });
        }

// var eachMonthTotal = < % -eachMonthTotal[0] % > ;
var eachMonthTotal = <%= eachMonthTotal[1] %>  
//var val=[];   
var yValues= [
 <%= eachMonthTotal[0]%>, <%= eachMonthTotal[1]%>, <%= eachMonthTotal[2]%>,<%= eachMonthTotal[3]%>, 
<%= eachMonthTotal[4]%>, <%= eachMonthTotal[5]%>, <%= eachMonthTotal[6]%>, <%= eachMonthTotal[7]%>,
 <%= eachMonthTotal[8]%>,
<%= eachMonthTotal[9]%>,<%= eachMonthTotal[10]%>, <%= eachMonthTotal[11]%>, <%= eachMonthTotal[12]%>
];

var xValues = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
// var yValues = [20, 30,18,22,34,22,43]; 
var barColors = ["#2ab7ca","#fed766","pink", "green", "yellow", 
"blue", "Cyan", "#2ab7ca", "#005b96", "#651e3e", "#009688", "#3d1e6d"];

new Chart("totalWeekly", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      backgroundColor: barColors,
      data: yValues
    }]
  },
  options: {
    title: {
      display: true,
      text: "Last Year Monthly Population Size"
    }
  }

//  options: {}
});


//<% for(var i=0; i < 12; i++) { %>
  
//    val = <%= eachMonthTotal[0]%>;
  
//<% } %>  

 alert(val[3]); 


//var eachMonthTotal = < % -eachMonthTotal % > ; -->
//alert(eachMonthTotal[0]);
/*
yearlyData(eachMonthTotal);

function yearlyData(eachMonthTotal) {
  var xValues = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
  var yValues = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
  for (var i = 0; i < 12; i++) {
    yValues[i] = eachMonthTotal[i];
  }
  var barColors = ["orange", "brown", "pink", "green", "yellow", "blue", "Cyan", "magenta", ];

  new Chart("totalWeekly", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {}
  });
}

*/
     /*
      var myVar = < % -totalPopulation % > ;
      var totalMale = < % -totalMale % > ;
      var totalFemale = < % -totalFemale % > ;
      alert(totalFemale);

      totalGender(totalMale, totalFemale);

      function totalGender(maleSize, femaleSize) {
        var xValues = ["Male", "Female"];
        var yValues = [parseInt(maleSize), parseInt(femaleSize)];
        var barColors = ["orange", "brown"];
        new Chart("totalGender", {
          type: "pie",
          data: {
            labels: xValues,
            datasets: [{
              backgroundColor: barColors,
              data: yValues
            }]
          },
          options: {}
        });
      }
      */
    </script>
    <script src="../assets/js/admin_script.js"></script>
  </section>
</body>

</html>